<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Installing Liquibase Extensions | Tony Wolski</title><meta name=description content="Tony Wolski: Since version 3.1, support for &lsquo;less common&rsquo; databases has been removed from the core Liquibase distribution. This is documented Liquibase&rsquo;s â€¦"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=referrer content="no-referrer"><meta name=generator content="Hugo 0.64.0"><link rel=stylesheet href=https://awolski.com/style.css><link rel=canonical href=https://awolski.com/installing-liquibase-extensions/></head><body><section id=masthead><h1><a href=/ title="Tony Wolski">Tony Wolski</a></h1><nav><ul><li><a href=/contact title=Contact>Contact</a></li></ul></nav></section><div id=content><article class=post><header><h1>Installing Liquibase Extensions</h1><small>2014-01-22</small></header><p>Since version 3.1, support for &lsquo;less common&rsquo; databases has been removed from the core Liquibase distribution. This is documented Liquibase&rsquo;s supported databases page. I&rsquo;m working with a DB2i database, so I needed to work out how to install the <a href=https://github.com/liquibase/liquibase-db2i>liquibase-db2i</a> extension. I couldn&rsquo;t find any documentation anywhere, but I managed to nut out what was in the end a relatively trivial task&mldr;</p><p>Executing generateChangeLog via the command line looks something like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>liquibase --driver<span style=color:#f92672>=</span>com.ibm.as400.access.AS400JDBCDriver <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --classpath<span style=color:#f92672>=</span>jt400.jar <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>--changeLogFile<span style=color:#f92672>=</span>file-to-export-to.xml <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>--url<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;jdbc:as400://AS400X;libraries=LIBRARY;trace=false;naming=sql;extended dynamic=true;&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>--username<span style=color:#f92672>=</span>blah --password<span style=color:#f92672>=</span>***** --logLevel<span style=color:#f92672>=</span>debug <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>--databaseClass<span style=color:#f92672>=</span>liquibase.ext.db2i.database.DB2iDatabase generateChangeLog
</code></pre></div><p>But the DB2iDatabase class is not in the core distribution any more, and without the liquibase-db2i extension installed, I got a ClassNotFoundException:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>Liquibase generateChangeLog Failed: liquibase.exception.DatabaseException: java.lang.ClassNotFoundException: liquibase.ext.db2i.database.DB2iDatabase
</code></pre></div><p>In order to install the db2i-extension, all that was required was to:</p><ol><li>Clone the repository from Github.</li><li>Build the Maven project.</li><li>Copy the liquibase-db2i*.jar to $LIQUIBASE_HOME</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ git clone https://github.com/liquibase/liquibase-db2i.git
$ cd liquibase-db2i
$ mvn clean install
$ cp target/liquibase-db2i-1.0-SNAPSHOT.jar $LIQUIBASE_HOME/lib/
</code></pre></div><p>Any jars you add to <code>$LIQUIBASE_HOME/lib</code> folder are added to liquibase&rsquo;s classpath, so the next run of the same generateChangeLog command above worked fine (well, at least got me past the ClassNotFoundException ;-).</p><p>Hope this helps if you&rsquo;re wondering how to install any other liquibase extensions.</p><footer>&#171; <a href=https://awolski.com/keeping-a-primefaces-menuitem-active/>Previous</a>
||
<a href=https://awolski.com/is-it-time-to-get-off-the-jsf-bandwagon/>Next</a> &#187;</footer></article><div id=comments><strong>Your thoughts?</strong> I'd love to hear them. Please get in <a href=/contact>contact</a>.</div></div></body></html>